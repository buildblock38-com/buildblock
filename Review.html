<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>BuildBlock — Client Testimonials & Ratings</title>
  <style>
    :root{
      --accent:#f0a500;
      --bg:#f7f7f7;
      --card:#ffffff;
      --muted:#666;
    }
    body{
      margin:0;
      font-family:Inter, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
      background:var(--bg);
      color:#111;
      line-height:1.4;
      padding:28px;
    }

    .container{
      max-width:980px;
      margin:0 auto;
      background:transparent;
    }

    /* Header */
        header {
            background: #1b1b1b;
            padding: 20px 40px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            color: white;
        }

       /* NAVBAR */
.navbar {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 15px 25px;
    background: #1a1a1a; /* construction dark */
    color: #fff;
    position: sticky;
    top: 0;
    z-index: 1000;
}

.logo {
    font-size: 22px;
    font-weight: 800;
    letter-spacing: 1px;
    color: #f4b400; /* BuildBlock yellow accent */
}

.nav-links {
    display: flex;
    gap: 25px;
}

.nav-links a {
    color: #fff;
    text-decoration: none;
    font-size: 17px;
    font-weight: 600;
    transition: 0.3s;
}

.nav-links a:hover {
    color: #f4b400;
}

/* HAMBURGER */
.hamburger {
    display: none;
    flex-direction: column;
    cursor: pointer;
}

.hamburger span {
    width: 28px;
    height: 3px;
    background: #f4b400; /* yellow bars */
    margin: 4px 0;
    transition: 0.3s ease;
}

/* ----------------- MOBILE ------------------ */

@media (max-width: 768px) {
    .nav-links {
        position: absolute;
        top: 70px;
        right: 0;
        background: #1a1a1a;
        width: 220px;
        display: none;
        flex-direction: column;
        padding: 20px;
        border-left: 3px solid #f4b400;
    }

    .nav-links a {
        margin: 12px 0;
        font-size: 16px;
    }

    .hamburger {
        display: flex;
    }

    .nav-links.active {
        display: flex;
    }
}

    .rating-overview{
      display:flex;
      align-items:center;
      gap:12px;
      margin:12px 0 22px 0;
      flex-wrap:wrap;
    }
    .avg{
      font-size:28px;
      font-weight:700;
    }
    .stars-inline{display:flex;gap:4px;align-items:center}

    .grid{
      display:grid;
      grid-template-columns: 1fr 380px;
      gap:22px;
    }

    /* testimonial list */
    .list{
      display:flex;
      flex-direction:column;
      gap:14px;
    }
    .card{
      background:var(--card);
      border-radius:10px;
      padding:14px;
      box-shadow:0 6px 18px rgba(0,0,0,0.06);
      display:flex;
      gap:12px;
      align-items:flex-start;
    }
    .avatar{
      min-width:56px;
      width:56px;
      height:56px;
      border-radius:10px;
      background:linear-gradient(180deg,#e9e9e9,#f7f7f7);
      display:flex;
      align-items:center;
      justify-content:center;
      font-weight:700;
      color:#333;
      font-size:20px;
      flex-shrink:0;
    }
    .card .meta{flex:1}
    .card .meta h4{margin:0 0 6px 0;font-size:16px}
    .card .meta .small{font-size:13px;color:var(--muted);margin-bottom:8px}
    .card p{margin:0;color:#222}

    /* rating stars display */
    .stars{
      display:inline-flex;
      gap:4px;
    }
    .star{
      width:18px;
      height:18px;
      display:inline-block;
      transform:translateY(1px);
    }
    svg{display:block}

    /* form (right column) */
    aside{
      background:var(--card);
      padding:16px;
      border-radius:10px;
      box-shadow:0 6px 18px rgba(0,0,0,0.06);
      height:fit-content;
    }
    label{display:block;font-weight:600;margin-bottom:6px;font-size:13px}
    input[type="text"], textarea{
      width:100%;
      padding:10px 12px;
      border:1px solid #e6e6e6;
      border-radius:8px;
      font-size:14px;
      box-sizing:border-box;
      resize:vertical;
      background:#fff;
    }
    textarea{min-height:96px}
    .star-picker{display:flex;gap:6px;margin-bottom:12px}
    .star-btn{
      background:transparent;
      border:1px solid #e6e6e6;
      padding:8px;
      border-radius:8px;
      cursor:pointer;
      display:inline-flex;
      align-items:center;
      justify-content:center;
    }
    .star-btn.active{
      border-color:var(--accent);
      box-shadow:0 6px 12px rgba(240,165,0,0.12);
    }
    .btn{
      background:var(--accent);
      color:#111;
      border:none;
      padding:10px 14px;
      border-radius:8px;
      cursor:pointer;
      font-weight:700;
      width:100%;
      margin-top:10px;
      box-shadow:0 6px 12px rgba(0,0,0,0.08);
    }
    .muted{color:var(--muted);font-size:13px}

    @media (max-width:900px){
      .grid{grid-template-columns:1fr; padding-bottom:40px}
      aside{order:2}
    }
  </style>
</head>
<body>
  <div class="container">
    <!-- Header -->
    <header>
    <div style="display: flex; align-items: center;">
        <img src="images/ChatGPT Image Nov 22, 2025, 09_04_20 AM.png" 
             alt="BuildBlock Logo" 
             style="height: 55px; margin-right: 15px; border-radius: 5px;">
        <h2 style="margin: 0;">Buildblock</h2>
    </div>

    <nav class="navbar">
    <!-- <div class="logo">BuildBlock</div> -->

    <div class="hamburger" onclick="toggleMenu()">
        <span></span>
        <span></span>
        <span></span>
    </div>

    <div class="nav-links" id="navLinks">
        <a href="index.html">Home</a>
        <a href="#services">Services</a>
        <a href="potforlio.html">Portfolio</a>
        <a href="projects.html">Projects</a>
        <a href="#about">About Us</a>
        <a href="Review.html">Reviews</a>
        <a href="contacts.html">Contact</a>
    </div>
</nav>

</header>

    <div class="rating-overview">
      <div class="avg" id="avgScore">0.0</div>
      <div class="stars-inline" id="avgStars" aria-hidden="true"></div>
      <div class="muted" id="reviewCount">0 reviews</div>
    </div>

    <div class="grid">
      <!-- left: testimonial list -->
      <section>
        <div class="list" id="testimonialsList">
          <!-- JS will populate testimonial cards here -->
        </div>
      </section>

      <!-- right: submission form -->
      <aside aria-labelledby="submitTitle">
        <h3 id="submitTitle">Leave a review</h3>

        <form id="reviewForm">
          <label for="name">Your name</label>
          <input id="name" name="name" type="text" placeholder="E.g. vusi Mokoena" required>

          <label class="muted" style="margin-top:12px">Your rating</label>
          <div class="star-picker" id="starPicker" role="radiogroup" aria-label="Choose rating">
            <!-- JS will create 5 clickable star buttons -->
          </div>

          <label for="comment" style="margin-top:8px">Your comment</label>
          <textarea id="comment" name="comment" placeholder="Write your experience..." required></textarea>

          <button type="submit" class="btn">Submit review</button>
        </form>

        <div style="margin-top:12px" class="muted">Reviews are saved to your browser (localStorage). To reset, clear site data.</div>
      </aside>
    </div>
  </div>
  
  <script>
        const slides = document.querySelectorAll('.slideshow img');
        let index = 0;

        setInterval(() => {
            slides[index].classList.remove('active');
            index = (index + 1) % slides.length;
            slides[index].classList.add('active');
        }, 4000);

        
    function toggleMenu() {
        document.getElementById("navLinks").classList.toggle("active");
    }


    </script>

  <script>
    // ---------- SAMPLE DATA ----------
    const SAMPLE = [
      {
        name: "Thabo M.",
        rating: 5,
        comment: "BuildBlock handled our foundation and decking professionally — on time and great quality.",
        date: "2025-11-10"
      },
      {
        name: "Aisha R.",
        rating: 4,
        comment: "Good workmanship and clear communication. Minor follow-up speed could improve.",
        date: "2025-10-24"
      }
    ];

    // ---------- LOCAL STORAGE HELPERS ----------
    const STORAGE_KEY = 'buildblock_testimonials_v1';
    function loadTestimonials(){
      try{
        const raw = localStorage.getItem(STORAGE_KEY);
        if(!raw) return SAMPLE.slice();
        return JSON.parse(raw);
      }catch(e){
        return SAMPLE.slice();
      }
    }
    function saveTestimonials(list){
      localStorage.setItem(STORAGE_KEY, JSON.stringify(list));
    }

    // ---------- RENDERING ----------
    const listNode = document.getElementById('testimonialsList');
    const avgScoreNode = document.getElementById('avgScore');
    const avgStarsNode = document.getElementById('avgStars');
    const reviewCountNode = document.getElementById('reviewCount');

    function renderStarsInline(parent, rating, max=5){
      parent.innerHTML = '';
      for(let i=1;i<=max;i++){
        const svg = document.createElementNS("http://www.w3.org/2000/svg",'svg');
        svg.setAttribute('viewBox','0 0 24 24');
        svg.setAttribute('width','18');
        svg.setAttribute('height','18');
        svg.classList.add('star');
        svg.innerHTML = (i<=rating)
          ? '<path fill="#f0a500" d="M12 .587l3.668 7.431L23.5 9.75l-5.75 5.602L19.416 24 12 20.202 4.584 24l1.666-8.648L.5 9.75l7.832-1.732z"/>'
          : '<path fill="#e6e6e6" d="M12 .587l3.668 7.431L23.5 9.75l-5.75 5.602L19.416 24 12 20.202 4.584 24l1.666-8.648L.5 9.75l7.832-1.732z"/>';
        parent.appendChild(svg);
      }
    }

    function render(){
      const items = loadTestimonials();
      listNode.innerHTML = '';
      items.forEach(it=>{
        const card = document.createElement('div');
        card.className = 'card';

        // avatar (initials)
        const initials = (it.name || 'Client').split(' ').map(p=>p[0]).slice(0,2).join('').toUpperCase();
        const avatar = document.createElement('div');
        avatar.className = 'avatar';
        avatar.textContent = initials;

        const meta = document.createElement('div');
        meta.className = 'meta';

        const h4 = document.createElement('h4');
        h4.textContent = it.name || 'Anonymous';

        const small = document.createElement('div');
        small.className = 'small';
        const date = new Date(it.date || Date.now()).toLocaleDateString();
        small.innerHTML = `<span class="stars" aria-hidden="true"></span> • <span>${date}</span>`;

        // add stars inside small
        const starsSpan = small.querySelector('.stars');
        renderStarsInline(starsSpan, it.rating || 0);

        const p = document.createElement('p');
        p.textContent = it.comment || '';

        meta.appendChild(h4);
        meta.appendChild(small);
        meta.appendChild(p);

        card.appendChild(avatar);
        card.appendChild(meta);

        listNode.appendChild(card);
      });

      // Average rating
      const avg = (() => {
        const arr = items.filter(i=>i && typeof i.rating === 'number');
        if(arr.length===0) return 0;
        const s = arr.reduce((a,b)=>a+(b.rating||0),0);
        return Math.round((s/arr.length)*10)/10;
      })();
      avgScoreNode.textContent = avg.toFixed(1);
      renderStarsInline(avgStarsNode, Math.round(avg));
      reviewCountNode.textContent = items.length + (items.length===1 ? ' review' : ' reviews');
    }

    // ---------- FORM / STAR PICKER ----------
    const starPicker = document.getElementById('starPicker');
    let pickedRating = 5; // default
    function createStarButtons(){
      for(let i=1;i<=5;i++){
        const btn = document.createElement('button');
        btn.type = 'button';
        btn.className = 'star-btn';
        btn.setAttribute('aria-label', i + ' star');
        btn.setAttribute('data-value', i);
        btn.innerHTML = `
          <svg width="18" height="18" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
            <path d="M12 .587l3.668 7.431L23.5 9.75l-5.75 5.602L19.416 24 12 20.202 4.584 24l1.666-8.648L.5 9.75l7.832-1.732z" fill="#e6e6e6"/>
          </svg>`;
        btn.addEventListener('click', ()=> {
          pickedRating = Number(btn.getAttribute('data-value'));
          updatePickerVisual();
        });
        starPicker.appendChild(btn);
      }
      updatePickerVisual();
    }

    function updatePickerVisual(){
      const buttons = starPicker.querySelectorAll('.star-btn');
      buttons.forEach(b=>{
        const val = Number(b.getAttribute('data-value'));
        if(val <= pickedRating){
          b.classList.add('active');
          b.querySelector('svg path').setAttribute('fill','#f0a500');
        } else {
          b.classList.remove('active');
          b.querySelector('svg path').setAttribute('fill','#e6e6e6');
        }
      });
    }

    // ---------- SUBMIT HANDLER ----------
    const form = document.getElementById('reviewForm');
    form.addEventListener('submit', (e)=>{
      e.preventDefault();
      const name = document.getElementById('name').value.trim() || 'Anonymous';
      const comment = document.getElementById('comment').value.trim();
      if(!comment){
        alert('Please write a short comment about your experience.');
        return;
      }
      const items = loadTestimonials();
      items.unshift({
        name,
        rating: pickedRating,
        comment,
        date: (new Date()).toISOString()
      });
      saveTestimonials(items);
      form.reset();
      pickedRating = 5;
      updatePickerVisual();
      render();
      // show a quick confirmation
      const btn = form.querySelector('.btn');
      const previous = btn.textContent;
      btn.textContent = 'Thanks — submitted';
      setTimeout(()=> btn.textContent = previous, 2200);
    });

    // ---------- INIT ----------
    createStarButtons();
    render();
  </script>
</body>
</html>

